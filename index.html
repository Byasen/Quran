<!DOCTYPE html>
<html lang="ar"> <!-- Changed to Arabic language code -->
    <head>
        <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مذكرة القرآن الكريم</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="choices.min.css">
    <meta name="theme-color" content="#000000">

</head>
<body id=content>
<div class="overall">

    <div id="loadingBarContainerId" class="loadingBarContainer">
        <progress id="loadingBarId" value="0" max="100"></progress>
        <p id="loadingStatus">Loading...</p> <!-- Hide text after loading is complete -->
    </div>

    <div class="mobileColumnSelector" id="mobileColumnSelectorID">
        <button onclick="showMobileColumn('pageColoumn')">المصحف</button>
        <button onclick="showMobileColumn('verseColoumn')">التفسير</button>
        <button onclick="showMobileColumn('searchColoumn')">البحث</button>
        <button onclick="showMobileColumn('topicColoumn')">التبويب</button>
    </div>

    <div class="mainContainer">

        <div class="pageColoumn">

            <div class="playControl1">
                <button id="playOneAudioBtn" title="PlayOne">
                    <img src="assets/step-forward.svg" alt="Play">
                </button>
                <button id="playAudioBtn" title="AutoPlay">
                    <img src="assets/play.svg" alt="Forward">
                </button>
                <button id="stopAudioBtn" title="Stop">
                    <img src="assets/stop.svg" alt="Stop">
                </button>
                <button id="settingsBtn" title="Settings">
                    <img src="assets/gear.svg" alt="Settings">
                </button>
            </div>

            <!-- PlayControl2 overlay (hidden until settings clicked) -->
            <div class="playControl2" id="playControl2">
                <div>
                    <select id="reciter" style="width: fit-content;">
                        <option value="abdullah_basfar">عبدالله بصفر</option>
                        <option value="al3afasy">العفاسي</option>
                        <option value="alhosary">الحصري</option>
                        <option value="aly_gaber">علي جابر</option>
                        <option value="khalifah_alteneagy">خليفة الطنيجي</option>
                    </select>
                    <label for="reciter">القارئ</label>
                </div>
                <div>
                    <select id="silenceSelect" class="dropMenu" style="width: fit-content;"></select>
                    <label for="silenceSelect">الصمت</label>
                </div>
                <div>
                    <select id="repeatSelect" style="width: fit-content;"></select>
                    <label for="repeatSelect">تكرار</label>
                </div>
            </div>

            <!-- Verse controls -->
            <div class="verseControl1">
            <button onclick="incrementVerse()">&#60;</button>
            <select id="verseSelect" class="verseSelectClass" onchange="onVerseChange()"></select>
            <button onclick="decrementVerse()">&#62;</button>
            <select id="chapterSelect" class="chapterSelectClass" onchange="onChapterChange()"></select>
            </div>

            <div id="pageResultsId" class="pageResults">
                <div id="previousPage" class="pageimg">
                    <img src="data/png/dummy.png" />
                    <div class="overlay-layer"></div>
                </div>
                <div id="currentPage" class="pageimg">
                    <img src="data/png/dummy.png" />
                    <div class="overlay-layer"></div>
                </div>
                <div id="nextPage" class="pageimg">
                    <img src="data/png/dummy.png" />
                    <div class="overlay-layer"></div>
                </div>
            </div>

            <div class="pageControl">
                <div style="margin-top: 0%;">
                    <button onclick="addCurrentVerse()">تبويب الآية</button>
                </div>
                <button onclick="incrementPage()">&#60;</button>
                <select id="pageSelect" onchange="onPageChange()"></select>
                <button onclick="decrementPage()">&#62;</button>
                <label for="pageSelect">الصفحة</label>
            </div>

        </div> <!-- end pageColoumn -->

        <div id="verseColoumnId" class="verseColoumn">
            <div class="verseResults1" hidden>
                <p id="verseDisplay"></p>
            </div>
            <div class="verseControl2">
                <select id="analysisSelect">
                    <option value="ma3any">معاني المفردات</option>
                    <option value="baghawy">البغوي</option>
                    <option value="e3rab">الإعراب</option>
                    <option value="katheer">ابن كثير</option>
                    <option value="muyassar">الميسر</option>
                    <option value="qortoby">القرطبي</option>
                    <option value="sa3dy">السعدي</option>
                    <option value="tabary">الطبري</option>
                    <option value="tanweer">التنوير</option>
                    <option value="waseet">الوسيط</option>
                    <option value="alkhareet">خرائط القرآن</option>
                </select>
                <label for="analysisSelect">التفسير</label>
            </div>
            <div class="verseResults2">
                <p id="meaningsDisplay"></p>
            </div>
        </div> <!-- end verseColoumn -->


        <div id="searchResults" class="searchColoumn">
            <div class="searchControl">
                <input type="text" id="verseSearchInput" placeholder="ابحث في القرآن" style="direction: rtl; text-align: rtl;"/>
                <button onclick="searchInCSVClearCurrent()">ابحث</button>
            </div>
            <label style="margin-top: 1%; white-space: nowrap;">كلمات ذات صلة</label>
            <div id="searchResultsContainer1" class="searchResults1"></div>
            <label style="margin-top: 1%; white-space: nowrap;">نتائج البحث</label>
            <div id="searchResultsContainer2" class="searchResults2"></div>
        </div>


        <div id="topicResults" class="topicColoumn">
            <div class="topicControl1">
                <label style="direction: rtl; text-align: right; margin-left: 2%;">اسم الباب :</label>
                <input id="topicSelect" class="topicSelectClass" placeholder="">
            </div>
            <div id="topicResults2Id" class="topicResults2">
                <div>
                    <textarea id="topicIntro" class="topicIntroClass" placeholder="المقدمة ..."></textarea>
                </div>
                <label style="direction: rtl; text-align: right; margin-bottom: 2%;">الآيات ذات الصلة :</label>
                <div id="stackedVerses"></div>
            </div>
            <div class="topicControl2">
                <div style="margin-top: 0%;">
                    <button onclick="saveStateToFirebase()">حفظ الباب</button>
                </div>
                <div style="margin-top: 0%;">
                    <button onclick="loadStateFromFirebase()">اختيار باب</button>
                </div>
            </div>
        </div> <!-- end topicColoumn -->

    </div> <!-- end mainContainer -->

</div> <!-- end overall -->

    <div id="sidebarId" class="sidebar">
        <div><button class="close-btn" onclick="toggleSidebar()">&times;</button></div>
    </div>   
</div>



</div>
<script src="js/audioManager.js"></script>
<script src="js/helpersManager.js"></script>
<script src="js/dataManager.js"></script>
<script src="js/searchManager.js"></script>
<script src="js/topicsManager.js"></script>
<script src="js/statusManager.js"></script>
<script src="js/displayManager.js"></script>
<script src="js/mainManager.js"></script>



<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js"></script>
<script src="js/firebase.js"></script>

</body>
</html>
