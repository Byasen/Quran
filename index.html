<!DOCTYPE html>
<html lang="ar"> <!-- Changed to Arabic language code -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Al Quran Notebook</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="topBar" class="top-bar">
        <input type="text" id="chapterSearchInput" oninput="filterChapters()" placeholder="ابحث في أسماء السور">
        <select id="chapterSelect" onchange="onChapterChange()"></select>
        <button onclick="decrementVerse()">&#60;</button>
        <select id="verseSelect" onchange="onVerseChange()"></select>
        <button onclick="incrementVerse()">&#62;</button>
        <input type="text" id="verseSearchInput" placeholder="ابحث عن كلمة">
        <label>
            <input type="checkbox" id="searchRootsCheckbox">
            بحث باستخدام الجذور
        </label>
        <button onclick="searchInCSV()">ابدأ البحث</button>
        <!-- Sidebar Toggle Button -->
        <button onclick="toggleMeanings()">اختيار التفاسير</button>
        <button id="toggleQuranPagesBtn" onclick="toggleQuranPages()">عرض الصفحة</button>
        <button onclick="decrementPage()">&#60;</button>
        <select id="pageSelect" onchange="onPageChange()"></select>
        <button onclick="incrementPage()">&#62;</button>
        <button onclick="toggleSidebar()">تدوين حسب الموضوع</button>
        <div id="sidebar" class="sidebar hidden">
            <div class="controls-container">
                <label for="topicSelect">اختر الموضوع:</label> <!-- Changed text to Arabic -->
                <select id="topicSelect" onchange="onTopicChange()"></select>
                <input type="text" id="newTopicInput" placeholder="اسم الموضوع" style="display: none;">        
                <button onclick="addOrEditTopic()">ابدأ موضوعا جديداً</button>
                <button onclick="removeTopic()">احذف الموضوع</button>
                <button onclick="saveState()">الحفظ بملف</button>
                <button onclick="loadState()">استرجاع من ملف</button>
                <button onclick="exportToLocal()">حفظ بالمتصفح</button>
                <button onclick="importFromLocal()">استرجاع من المتصفح</button>
                <button onclick="addVerse(chapterSelect.value,verseSelect.value)">أضف الآية الحالية للموضوع</button>
            </div>
            </div>
            

    </div>

    
    <div id="Meanings" class="checkbox-container hidden">
        <button onclick="checkAll()">تحديد الكل</button> <!-- Check All button -->
        <button onclick="uncheckAll()">إلغاء تحديد الكل</button> <!-- Uncheck All button -->
        <label><input type="checkbox" id="togglema3any" checked onclick="displayVerseWithAnalyses()"> معاني</label>
        <label><input type="checkbox" id="togglee3rab" onclick="displayVerseWithAnalyses()"> إعراب</label>
    <label><input type="checkbox" id="togglebaghawy" onclick="displayVerseWithAnalyses()"> البغوي</label>
    <label><input type="checkbox" id="togglekatheer" onclick="displayVerseWithAnalyses()"> ابن كثير</label>
    <label><input type="checkbox" id="toggleqortoby" onclick="displayVerseWithAnalyses()"> القرطبي</label>
    <label><input type="checkbox" id="togglesa3dy" onclick="displayVerseWithAnalyses()"> السعدي</label>
    <label><input type="checkbox" id="toggletabary" onclick="displayVerseWithAnalyses()"> الطبري</label>
    <label><input type="checkbox" id="togglewaseet" onclick="displayVerseWithAnalyses()"> الوسيط</label>
    <label><input type="checkbox" id="togglemuyassar" checked onclick="displayVerseWithAnalyses()"> الميسر</label>
    <label><input type="checkbox" id="toggletanweer" onclick="displayVerseWithAnalyses()"> التنوير</label>
</div>

<div id="quranPagesContainer" class="quran-pages" style="display: none;">
    <div id="nextPage" class="page"></div>
    <div id="currentPage" class="page"></div>
    <div id="previousPage" class="page"></div>
</div>

<!-- Loading Bar (placed under checkboxes) -->
<div id="loadingBarContainer">
    <progress id="loadingBar" value="0" max="100"></progress>
    <p id="loadingStatus" style="display: none;">Loading...</p> <!-- Hide text after loading is complete -->
</div>

<div id="searchResultsContainer" class="search-results-container">
    <!-- Search results will appear here -->
</div>
<p id="verseDisplay">اختر آية</p> <!-- Arabic placeholder text -->


<div id="sidebar2" class="sidebar hidden">
    <div class="controls-container">
        <textarea id="questionInput" placeholder="السؤال العام" rows="4" cols="50"></textarea> <!-- Arabic placeholder -->
        <hr class="horizontal-line">
        <textarea id="answerInput" placeholder="الإجابة العامة " rows="4" cols="50"></textarea> <!-- Arabic placeholder -->
        <hr class="horizontal-line">
        <hr class="horizontal-line">
        <div id="stackedVerses"></div>
</div>
</div>

<div id="filePathDisplay" class="log-box"></div>


<script src="js/helpers.js"></script>
<script src="js/data.js"></script>
<script src="js/chapterVerseManager.js"></script>
<script src="js/verseDisplayManager.js"></script>
<script src="js/stackedVersesManager.js"></script>
<script src="js/stateManager.js"></script>
<script src="js/main.js"></script>
</body>
</html>
