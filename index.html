<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الفرقان</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>الفرقان</h1> <!-- Changed displayed title -->

    <!-- New section to manage topics (moved this section above the chapter/verse section) -->
    <div class="controls-container">
        <!-- Dropdown for selecting topics -->
        <label for="topicSelect">Select Topic:</label>
        <select id="topicSelect" onchange="onTopicChange()">
            <!-- Topics will be dynamically populated -->
        </select>

        <!-- Input and buttons for managing topics -->
        <input type="text" id="newTopicInput" placeholder="Enter new topic name">
        <button onclick="addOrEditTopic()">Add Topic</button>
        <button onclick="removeTopic()">Remove Topic</button>

        <!-- Buttons for Exporting and Importing state -->
        <button onclick="saveState()">Export All</button> <!-- Changed from Save to Export -->
        <button onclick="loadState()">Import All</button> <!-- Changed from Load to Import -->
    </div>

    <!-- Container to group dropdowns, buttons, and checkboxes (Chapter/Verse menus now below topic selection) -->
    <div class="controls-container">
        <!-- Dropdown for Quran Chapters -->
        <label for="chapterSelect">Select Chapter (Surah):</label>
        <select id="chapterSelect" onchange="onChapterChange()">
            <!-- Chapters will be dynamically populated -->
        </select>

        <!-- Dropdown for Quran Verses -->
        <label for="verseSelect">Select Verse (Ayah):</label>
        <select id="verseSelect">
            <!-- Verse options will be dynamically populated -->
        </select>

        <!-- Dedicated Select button to trigger verse display -->
        <button onclick="displayVerseWithMeaning()">Display Verse</button>

        <!-- Button for adding verse -->
        <button onclick="addVerse()">Add Verse</button>
    </div>

    <!-- Checkboxes to toggle the display of different verse content -->
    <div class="checkbox-container">
        <label><input type="checkbox" id="toggleArabic"> Arabic</label> <!-- Default unchecked -->
        <label><input type="checkbox" id="toggleEnglish"> English</label> <!-- Default unchecked -->
        <label><input type="checkbox" id="toggleMeaning"> Meaning</label> <!-- Default unchecked -->
        <label><input type="checkbox" id="toggleGrammar"> Grammar Analysis</label> <!-- Default unchecked -->
    </div>

    <!-- Section to display selected verse -->
    <p id="verseDisplay">إختر آية</p>

    <!-- Container to display the Quran pages (previous, current, next) -->
    <div class="quran-pages">
        <div id="nextPage" class="page"></div>
        <div id="currentPage" class="page"></div>
        <div id="previousPage" class="page"></div>
    </div>

    <hr class="horizontal-line">

    <!-- Text area for user input -->
    <textarea id="questionInput" placeholder="أدخل الفكرة أو السؤال المراد مناقشته" rows="4" cols="50"></textarea>

    <hr class="horizontal-line">

    <!-- New additional textarea -->
    <textarea id="answerInput" placeholder="أدخل الإجابة العامة أو الأولية" rows="4" cols="50"></textarea>

    <hr class="horizontal-line">

    <!-- Section where stacked verses will be added -->
    <div id="stackedVerses"></div>

    <!-- Log Section -->
    <div id="filePathDisplay" class="log-box"></div>

    <!-- New script references for split JavaScript files -->
    <script src="js/helpers.js"></script>
    <script src="js/data.js"></script>
    <script src="js/chapterVerseManager.js"></script>
    <script src="js/verseDisplayManager.js"></script>
    <script src="js/stackedVersesManager.js"></script>
    <script src="js/stateManager.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
